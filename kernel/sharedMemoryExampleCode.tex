

\begin{frame}[fragile,label=shmMmap]{one way to set shared memory on Linux}
\lstset{style=smaller,language=C++}
\begin{lstlisting}
/* regular file, OR: */
int fd = open("/tmp/somefile.dat", O_RDWR);
/* special in-memory file */
int fd = shm_open("/name", O_RDWR);
...
/* make file's data accessible as memory */
void *memory = mmap(NULL, size, PROT_READ | PROT_WRITE,
                    MAP_SHARED, fd, 0);
\end{lstlisting}
\begin{itemize}
    \item mmap: ``map'' a file's data into your memory
    \item will discuss a bit more when we talk about virtual memory
    \item part of how Linux loads dynamically linked libraries
\end{itemize}
\end{frame}
