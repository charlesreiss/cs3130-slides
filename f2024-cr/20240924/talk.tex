\date{}
\title{}
\date{}
\begin{document}
\begin{frame}
    \titlepage
\end{frame}

\input{../common/listingsLib}

\begin{frame}{last time}
    \begin{itemize}
    \item exec --- load new program in current process
    \item wait/waitpid
    \item fork+exec+waitpid pattern
    \item file descriptors
    \item redirection and dup2
    \end{itemize}
\end{frame}

\begin{frame}{quiz Q1}
\end{frame}

\begin{frame}{Regarding open files and file descriptors}
\begin{itemize}
  \item	When a process is forked, it inherits the parent’s file descriptors
  \begin{itemize} 
    \item These are preserved across exec()
    \item These point to the same slot in the system open file table
    \item Of particular importance:
    \begin{itemize}
      \item Only when the last fd is closed that was associated with a particular open file, is the file actually closed
      \item So if parent closes an fd, child’s inherited fd still valid, and vice versa
      \item These fds share a seek pointer (position in file)
    \end{itemize}
  \end{itemize}
  \item Separate calls to open have completely separate state
  \begin{itemize}
    \item Eg, if parent opens file X, then child opens file X, the resulting fds are not shared and thus these fds’ seek pointers are independent 
  \end{itemize}
\end{itemize}
\end{frame}

\input{../unix-api/wait-exit-status}
\input{../unix-api/seek-ptr}

\input{../vm/talk-inner}

\section{backup slides}
\begin{frame}{backup slides}
\end{frame}

\input{../unix-api/talk-inner.tex}
\input{../unix-api/talk-backup.tex}

\end{document}
