\begin{frame}[fragile]{reading a value}
\begin{lstlisting}[language=C,style=smaller]
char *array;
posix_memalign(&array, CACHE_SIZE, CACHE_SIZE);
AccessAllOf(array);
other_array[mystery * BLOCK_SIZE] += 1;
for (int i = 0; i < CACHE_SIZE; i += BLOCK_SIZE) {
    if (CheckIfSlowToAccess(&array[i])) {
        ...
    }
}
\end{lstlisting}
\begin{itemize}
\item with 32KB direct-mapped cache
\item suppose we find out that \texttt{array[0x400]} is slow to access
\item and other\_array starts at address 0x100000
\item what was mystery?
\end{itemize}
\end{frame}
