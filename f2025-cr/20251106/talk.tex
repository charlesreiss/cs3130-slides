\date{}
\title{}
\date{}
\begin{document}
\begin{frame}
    \titlepage
\end{frame}

\input{../common/listingsLib}

\begin{frame}
    \frametitle{last time}
    \begin{itemize}
        \item barriers
            \begin{itemize}
                \item Init(ThreadCount); Wait() [for all other threads]
                \item reusable
            \end{itemize}
        \item monitors (start)
            \begin{itemize}
            \item lock(Lock);
            \item while (need to wait b/c of shared data) Wait(CV, Lock); 
            \item do something with shared data
            \item if (someone can stop waiting) Broadcast/Signal(CV)
            \item unlock(Lock)
            \end{itemize}
    \end{itemize}
\end{frame}

\subsection{exercise: wait for both finished}
\input{../sync/monitor-ex-both-finishes}

\subsection{exercise: barrier}
\input{../sync/monitor-exercise2}

\input{../sync/talk-rwlock}

\input{../sync/transaction-defn}

\begin{frame}
\frametitle{transaction implementation ideas}
\begin{itemize}
\item simple idea: do one transaction at a time
\item more efficient(?) idea: 
    \begin{itemize}
    \item get list of operations 
    \item lock everything operations use (in consistent order to prevent deadlock)
    \item do operations on list
    \item unlock everything
    \end{itemize}
\item (also other strategies with different flexibility/efficiency)
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{networking}
\end{frame}

\input{../network/talk-inner}

\section{backup slides}
\begin{frame}{backup slides}
\end{frame}
\subsection{exercise: conditional signal in produce?}
\input{../sync/monitor-ex-ps-cond-signal}
% FIXME
\input{../sync/talk-false-share}

\subsection{exercise: ConsumeTwo}
\input{../sync/monitor-exercise}

\input{../sync/talk-monitor-backup}
\input{../network/talk-backup}

\input{../sync/transaction-impls}

\end{document}
