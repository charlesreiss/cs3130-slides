\date{}
\title{}
\date{}
\begin{document}
\begin{frame}
    \titlepage
\end{frame}

\input{../common/listingsLib}

\begin{frame}
\frametitle{last time}
\begin{itemize}
\item superuser
    \begin{itemize}
    \item OS says yes to permission checks
    \end{itemize}
\item set-user-ID idea
    \begin{itemize}
    \item mark program to run as owner
    \item way for sysadmin to give access in ways OS does not allow
    \end{itemize}
\item kernel-mode idea
    \begin{itemize}
    \item limit access to I/O + other hardware features to OS code
    \item check made by hardware whne executing `dangerous' instructions
    \item program code runs with more limited interface
    \end{itemize}
\item system calls
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{notes on quiz Q2cd}
\begin{itemize}
\item modifying f: \\ look at \texttt{all: a b c d}
    \begin{itemize}
    \item \texttt{a: e f g} $\rightarrow$ buildA must run since f updated
    \item \texttt{b: e d} $\rightarrow$ check if d up-to-date
        \begin{itemize}
        \item \texttt{d: a c} $\rightarrow$ buildD must run since just updated a
        \item $\rightarrow$ buildB must run since d just updated
        \end{itemize}
    \item \texttt{c: e g} $\rightarrow$ nothing to do
    \item \texttt{d: a c} --- already handled
    \end{itemize}
\item (essentially same logic for g)
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{notes on quiz Q4}
\begin{itemize}
\item \texttt{u+s} = set-user-ID bit (run as owner, not whoever started it)
\item \myemph{don't need read permission to execute compiled executable}
    \begin{itemize}
    \item (regardless of whether it is marked set-user-ID)
    \item read permissions \textit{is} needed for scripts (e.g. Python/shell) \\
          because there is an interpreter program that needs to open the file
    \end{itemize}
\item \texttt{chmod o+x} doesn't change user/group execute permission
    \begin{itemize}
    \item o+x = for others, add execute
    \end{itemize}
\end{itemize}
\end{frame}

\input{../kernel/malicious-p}

\input{../kernel/unix-design-build-lib.tex}

\subsection{system calls on Linux}
% FIXME import slides
\input{../kernel/sysCallLinux}

\subsection{maybe not return?}
\input{../kernel/syscallThreadLaterDiag}


\subsection{system call wrappers}
\input{../kernel/syscallWrap}
% \input{../kernel/sysCallWrapperShort}

\section{interlude: strace}
\input{../kernel/strace-hello}

\section{kernel + standard library}
\againframe<2>{unixDesignHWNoLib}
\againframe<1->{unixDesignHWLib}

\section{memory protection}
\againframe<3>{portalShouldnt}

\subsubsection{exercise: expected behavior?}
\input{../kernel/memProtectQC}

%\subsubsection{preview: shared memory}
%\input{../kernel/previewSharedMemory}

\subsubsection{address spaces}
\input{../kernel/memProtectAddressSpaces}

% FIXME: talk about ``crash'' in mem protect Q case
\section{extending system calls: exception idea}
\input{../kernel/exceptIdea}

\subsection{reasons for exceptions, generally}
\input{../kernel/exceptKindInfoLib}
\againframe<1-4>{exceptTypesN}

\section{infinite loop}
\againframe<4>{portalShouldnt}

\againframe<5>{exceptTypesN}

\section{exception kinds, summarized}
\input{../kernel/exceptVenn}

\subsection{exception handling generalized}
\input{../kernel/exceptThreadDiag}

\subsection{operating system runs}
\input{../kernel/contextSwitchTimeline}

\subsection{context switches} 
\input{../kernel/contextSwitch}

\section{thread idea}
\input{../kernel/thread}

\section{not just timers}
\againframe<6>{exceptTypesN}

\subsection{typical I/O pattern}
\input{../kernel/exceptIOPattern}

\input{../kernel/keyInTimeline}

\section{combined timeline}
\input{../kernel/ioTimeline}

\section{preview: empty loop lab}
\input{../kernel/emptyLoopLab}

\section{review: exception / context switch}
\input{../kernel/reviewExceptCtxt}

\section{exercise}
\input{../kernel/howManyEx}

\subsection{aside: terms}
\input{../kernel/exceptTerms}

\section{process}
\input{../kernel/processIdea}

\input{../unix-api/talk-inner}

\section{backup slides}
\begin{frame}{backup slides}
\end{frame}

\end{document}
