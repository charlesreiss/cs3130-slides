
\begin{frame}[fragile,label=typicalPatternMultiple1]{multiple processes?}
\begin{lstlisting}[language=C++,style=small]
while (...) {
    pid = fork();
    if (pid == 0) {
        exec ...
    } else if (pid > 0) {
        pids.push_back(pid);
    }
}

/* retrieve exit statuses in order */
for (pid_t pid : pids) {
    waitpid(pid, ...); 
    ...
}
\end{lstlisting}
\end{frame}
