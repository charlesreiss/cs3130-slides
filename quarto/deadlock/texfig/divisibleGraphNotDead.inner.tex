\begin{tikzpicture}
    \newcommand{\mycircle}[1]{
        \node[resource circle] (#1) {};
    }
    \matrix[resource,row sep=2mm,label={[align=left,xshift=-1cm]north east:{memory in \\6 (1MB) units}}] (resource A) {
    \mycircle{A one} \\
    \mycircle{A two} \\
    \mycircle{A three} \\
    \mycircle{A four} \\
    \mycircle{A five} \\
    \mycircle{A six} \\
};
\node[thread] (thread one) at ([xshift=-3cm,yshift=-3cm]resource A) {
  thread 1
};
\node[thread] (thread two) at ([xshift=3cm,yshift=-3cm]resource A) {
  thread 2
};
\node[thread] (thread three) at ([xshift=-2cm, yshift=3cm]resource A) {
    thread 3
};
\begin{visibleenv}<4->
    \path[alt=<4>{red},dependency future,alt=<5->{opacity=0.1}] (A one.west) ..  controls ([yshift=2cm]thread one.north) .. (thread one.north);
    \path[alt=<4>{red},dependency future,alt=<5->{opacity=0.1}] (A two.west) ..  controls ([yshift=2cm]thread one.north) .. (thread one.north);
\end{visibleenv}
\begin{visibleenv}<6->
    \path[alt=<6>{red},dependency future,alt=<7->{opacity=0.1}] (A one.east) ..  controls ([yshift=2cm]thread two.north) .. (thread two.north);
    \path[alt=<6>{red},dependency future,alt=<7->{opacity=0.1}] (A two.east) ..  controls ([yshift=2cm]thread two.north) .. (thread two.north);
\end{visibleenv}
    \path[dependency future,alt=<3->{opacity=0.2}] (A one.west) .. controls ([xshift=-1cm]A one.west) .. (thread three.south)
    node[pos=0.8,dependency reason,font=\small,fill=white] {
        owns 
    };

    \path[dependency,alt=<4->{invisible}] (thread one.east) ..  controls ([xshift=1cm]thread one.east) .. (resource A.south)
    node[alt=<4->{opacity=1.0},alt=<6->{opacity=0},midway,dependency reason,font=\small,below,xshift=1cm] {
      waiting for \\ 2MB
    };
    \path[dependency future,alt=<5->{invisible}] (A four.west) ..  controls ([yshift=2cm]thread one.north) .. (thread one.north);
    \path[dependency future,alt=<5->{invisible}] (A three.west) ..  controls ([yshift=2cm]thread one.north) .. (thread one.north)
    node[pos=0.8,dependency reason,font=\small,fill=white] {
        owns 
    };
    \path[dependency,alt=<6->{invisible}] (thread two.west) ..  controls ([xshift=-1cm]thread two.west) .. (resource A.south)

    ;
\path[dependency future,alt=<7->{opacity=0.1}] (A six.east) .. controls ([yshift=2cm]thread two.north) .. (thread two.north);
\path[dependency future,alt=<7->{opacity=0.1}] (A five.east) .. controls ([yshift=2cm]thread two.north) .. (thread two.north)
    node[midway,dependency reason,font=\small,fill=white] {
        owns 
    }
    ;
\begin{visibleenv}<2->
    \node[draw,very thick,anchor=west,align=left] at ([xshift=4cm,yshift=0cm]resource A) {
        not deadlock: \\
        \myemph<3>{thread 3 finishes} \\
        \myemph<4>{then thread 1 can get memory} \\
        \myemph<5>{then thread 1 finishes} \\
        \myemph<6>{then thread 2 can get resources} \\
        \myemph<7>{then thread 2 can finish}
    };
\end{visibleenv}
\end{tikzpicture}