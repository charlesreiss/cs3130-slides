\begin{tikzpicture}
    \newcommand{\mycircle}[1]{
        \node[resource circle] (#1) {};
    }
    \matrix[resource,row sep=2mm,label={[align=left,xshift=-1cm]north east:{memory in \\\myemph{5} (1MB) units}}] (resource A) {
    \mycircle{A one} \\
    \mycircle{A two} \\
    \mycircle{A three} \\
    \mycircle{A four} \\
    \mycircle{A five} \\
};
\node[thread] (thread one) at ([xshift=-3cm,yshift=-3cm]resource A) {
  thread 1
};
\node[thread] (thread two) at ([xshift=3cm,yshift=-3cm]resource A) {
  thread 2
};
\node[thread] (thread three) at ([xshift=-2cm, yshift=3cm]resource A) {
    thread 3
};

    \path[dependency future,alt=<3->{opacity=0.2}] (A one.west) .. controls ([xshift=-1cm]A one.west) .. (thread three.south)
    node[pos=0.8,dependency reason,font=\small,fill=white] {
        owns 
    };

    \path[double,dependency] (thread one.east) ..  controls ([xshift=1cm]thread one.east) .. (resource A.south)
    node[alt=<4->{opacity=1.0},alt=<6->{opacity=0},midway,dependency reason,font=\small,below,xshift=1cm] {
      waiting for \\ 2MB
    };
    \path[dependency future] (A three.west) ..  controls ([yshift=2cm]thread one.north) .. (thread one.north);
    \path[dependency future] (A two.west) ..  controls ([yshift=2cm]thread one.north) .. (thread one.north)
    node[pos=0.8,dependency reason,font=\small,fill=white] {
        owns 
    };
    \path[double,dependency] (thread two.west) ..  controls ([xshift=-1cm]thread two.west) .. (resource A.south)
    %node[midway,dependency reason,font=\small,below,xshift=1cm] {
    %  waiting for \\ 2MB
    %};
    ;
\path[dependency future] (A five.east) .. controls ([yshift=2cm]thread two.north) .. (thread two.north);
\path[dependency future] (A four.east) .. controls ([yshift=2cm]thread two.north) .. (thread two.north)
    node[midway,dependency reason,font=\small,fill=white] {
        owns 
    };
    \begin{visibleenv}<2->
    \node[draw,very thick,anchor=west,align=left] at ([xshift=4cm,yshift=0cm]resource A) {
        reducing memory: deadlock: \\
        even after thread 3 finishes \\
        no way for thread 1+2 \\ to get what they want 
    };
    \end{visibleenv}
\end{tikzpicture}