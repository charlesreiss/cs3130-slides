
### semaphore exercise {.smaller}


```c
int value;  sem_t empty, ready;  // with some initial values
void PutValue(int argument) {
    sem_wait(&empty);
    value = argument;
    sem_post(&ready);
}
int GetValue() {
    int result;
    _________________
    result = value;
    _________________
    return result;
}
```

[GetValue() waits for PutValue() to happen, retrieves value, then allows next PutValue().]{.my-small} <br/>
[PutValue() waits for prior GetValue(), places value, then allows next GetValue().]{.my-small}

What goes in the blanks?

:::: {.columns .tight}

::: {.column}

a.  `sem_post(&empty)` / `sem_wait(&ready)` 
b.  `sem_wait(&ready)` / `sem_post(&empty)` 
c.  `sem_post(&ready)` / `sem_wait(&empty)`

:::

::: {.column}

d.  `sem_post(&ready)` / `sem_post(&empty)`
e.  `sem_wait(&empty)` / `sem_post(&ready)`
f.  something else

:::

::::


### semaphore exercise [solution]  {.smaller}


```c
int value;
sem_t empty, ready;
void PutValue(int argument) {
    sem_wait(&empty);
    value = argument;
    sem_post(&ready);
}
int GetValue() {
    int result;
    sem_wait(&ready);
    result = value;
    sem_post(&empty);
    return result;
}

```
