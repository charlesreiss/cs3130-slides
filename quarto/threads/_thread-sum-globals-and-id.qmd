
### sum example (to global, with thread IDs)  {.smaller}


<pre><code>int <span data-fragment-index="2" class="fragment custom myem-only">values[1024]</span>;
int <span data-fragment-index="2" class="fragment custom myem-only">results[2]</span>;
void *sum_thread(void *argument) {
    int id = (int) argument;
    int sum = 0;
    for (int i = id * 512; i &lt; (id + 1) * 512; ++i) {
        sum += values\[i];
    }
    results\[id] = sum;
    return NULL;
}
int sum_all() {
    /* missing: error handling */
    pthread_t thread\[2];
    for (int i = 0; i &lt; 2; ++i) {
        pthread_create(&amp;threads\[i], NULL, sum_thread, (void *) i);
    }
    for (int i = 0; i &lt; 2; ++i)
        pthread_join(threads\[i], NULL);
    return results\[0] + results\[1];
}
</code></pre>
 ![](/threads/texfig/thread-sum-globals-and-id.figure-1.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment-index=1}
![](/threads/texfig/thread-sum-globals-and-id.figure-2.svg){.absolute top="0%" left="0%" width=1050 height=600 .my-center  .fragment .fade-in-then-out fragment-index=2}

