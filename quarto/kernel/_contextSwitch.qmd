
### switching programs

* OS starts running somehow
   * some sort of exception
* saves old registers + program counter + address mapping 
   * (optimization: could omit when program crashing/exiting)
* sets new registers + address mapping, jumps to new program counter
* called <em>context switch</em>
   * saved information called <em>context</em>


### contexts (A running) 

![](/kernel/texfig/contextSwitch-contexts-a-running.figure.svg){fig-alt="in memory, is process A's stuff, process B's stuff, and OS storage. The OS storage currently contains process B's register values. The CPU contains process A's register values, some of which point to process A's memory."}


### contexts (B running) 

![](/kernel/texfig/contextSwitch-contexts-b-running.figure.svg){fig-alt="same diagram as before, but now the OS storage contains process A's register values (not B) and the CPU has process B's register values (not A)."}

