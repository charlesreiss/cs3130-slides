
### waiting for all children  {.smaller}


<pre><code>#include &lt;sys/wait.h&gt;
...
  while (true) {
    pid_t child_pid = waitpid(-1, &amp;status, 0);
    if (child_pid == (pid_t) -1) {
      if (errno == ECHILD) {
        /* no child process to wait for */
        break;
      } else {
        /* some other error */
      }
    }
    /* handle child_pid exiting */
  }
</code></pre>

