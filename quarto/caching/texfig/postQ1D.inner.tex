\begin{tikzpicture}
    \tikzset{fetch/.style={fill=yellow!15},decode/.style={fill=orange!15},execute/.style={fill=green!15},
    memory/.style={fill=blue!15},writeback/.style={fill=violet!15}}
    \newcommand{\fdemw}{ \& |[fetch]| F \& |[decode]| D \& |[execute]| E \& |[memory]| M \& |[writeback]| W}
\matrix[tight matrix noline,
        nodes={text width=.6cm,font=\tt,minimum height=.7cm,align=center},
        column 1/.style={nodes={text width=6cm,align=left}}] (tbl) {
|[align=right]| \normalfont\textit{cycle \#} \hspace{.5cm}
                                    \& 0 \& 1 \& 2 \& 3 \& 4 \& 5 \& 6 \& 7 \& 8 \\
\lstinline|addq %rax, ~1~%rbx~end~|    \fdemw \& ~ \& ~ \& ~ \& ~ \& ~ \& ~\\
\lstinline|nop|  \& ~ \fdemw \& ~ \& ~\\
\lstinline|nop|    \& ~ \& ~ \fdemw \& ~\\
    \lstinline|addq ~1~%rbx~end~, %rcx|    \& ~ \& ~ \& ~ \fdemw \& ~ \& ~ \& ~ \& ~ \\
};

\tikzset{
    forwardLine/.style={blue!60!black,thick,-Latex},
    hiForwardOn/.style={alt=#1{blue}{}},
    forwardLineB/.style={red,dashed,thick,-Latex},
    sepLine/.style={densely dotted,thick},
};
\foreach \x in {1,...,10} {
    \draw[sepLine] (tbl-1-\x.north east) -- (tbl-5-\x.south east);
}
\newcommand{\fwd}[4]{
    \pgfmathtruncatemacro{\idx}{#1+2}
    \draw[forwardLine,hiForwardOn=#4] ([xshift=-.15cm]tbl-#2-\idx.west) -- ([xshift=-.05cm]tbl-#3-\idx.west);
}
\newcommand{\fwdA}[4]{
    \pgfmathtruncatemacro{\idx}{#1+2}
    \draw[forwardLineB] ([xshift=.05cm]tbl-#2-\idx.east) -- ([xshift=.15cm]tbl-#3-\idx.east);
}

\newcommand{\fwdNo}[3]{
    \pgfmathtruncatemacro{\idx}{#1+2}
    \draw[forwardLineB] ([xshift=-.15cm]tbl-#2-\idx.west) -- ([xshift=-.05cm]tbl-#3-\idx.west);
}
\fwdNo{5}{2}{5}{<0>}
    \end{tikzpicture}
