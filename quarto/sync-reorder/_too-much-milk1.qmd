
### too much milk ‘‘solution’’ 1 (algorithm)  {.smaller}



* leave a note: ‘‘I am buying milk’’ 

   * place before buying, remove after buying
   * don't try buying if there's a note

* $\approx$ setting/checking a variable (e.g. ‘‘<code>note = 1</code>’’) 

   * with atomic load/store of variable

 
```
if (no milk) {
    if (no note) {
        leave note;
        buy milk;
        remove note;
    }
}

```
 

* <em>exercise: why doesn't this work?</em>


### too much milk ‘‘solution’’ 1 (timeline) 

![](/sync/texfig/solutionOneTimeline.figure.svg)

