\begin{frame}{exercise (1)}
    \begin{itemize}
    \item 1 set, 5-way cache, 4 byte blocks
    \item access pattern:
        \begin{itemize}
        \item 0x0, 0x1000, 0x4, 0x1004, 0x0, 0x1008, 0x4, 0x100C,
        \item 0x0, 0x1010, 0x4, 0x1014, 0x0, 0x1018, 0x4, 0x101C,
        \item 0x0, 0x1020, 0x4, 0x1024, 0x0, 0x1028, 0x4, 0x102C,
        \item \ldots
        \end{itemize}
    \item how does each do?
        \begin{itemize}
        \item LRU
        \item FIFO
        \item random
        \end{itemize}
    \end{itemize}
\end{frame}

\iftoggle{heldback}{}{
\begin{frame}{LRU}
\tt\small
\begin{tabular}{ll}
access & MRU $\leftarrow\rightarrow$ LRU \\
    \only<2>{* }0x0 & \myemph{0x0-3} \\
    0x1000 & \myemph{0x1000-3}, 0x0-3 \\
    \only<2>{* }0x4 & \myemph{0x4-7}, 0x1000-3, 0x0-3 \\
    0x1004 & \myemph{0x1004-7}, 0x4-7, 0x1000-3, 0x0-3 \\
0x0 & 0x0-3, 0x1004-7, 0x4-7, 0x1000-3 \\
    0x1008 & \myemph{0x1008-B}, 0x0-3, 0x1004-7, 0x4-7, 0x1000-3 \\
0x4 & 0x4-7, 0x1008-B, 0x0-3, 0x1004-7, 0x1000-3 \\
    0x100C & \myemph{0x100C-F}, 0x4-7, 0x1008-B, 0x0-3, 0x1004-7 \\
0x0 & 0x0-3, 0x100C-F, 0x4-7, 0x1008-B, 0x1004-7 \\
    0x1010 & \myemph{0x1010-3}, 0x0-3, 0x100C-F, 0x4-7, 0x1008-B \\
    \ldots & \ldots \\
\end{tabular}
\begin{itemize}
\item 0x0/0x4: 100\% hit rate (after `warmup')
\item others: 0\% hit rate
\end{itemize}
\end{frame}

\begin{frame}{FIFO (1)}
\tt\small
\begin{tabular}{ll}
\tt\small
access & last in $\leftarrow\rightarrow$ first in \\
    \only<2>{M }0x0 & \myemph{0x0-3} \\
    0x1000 & \myemph{0x1000-3}, 0x0-3 \\
    \only<2>{M }0x4 & \myemph{0x4-7}, 0x1000-3, 0x0-3 \\
    0x1004 & \myemph{0x1004-7}, 0x4-7, 0x1000-3, 0x0-3 \\
    \only<2>{H }0x0 & 0x1004-7, 0x4-7, 0x1000-3, 0x0-3 \\
    0x1008 & \myemph{0x1008-B}, 0x1004-7, 0x4-7, 0x1000-3, 0x0-3 \\
    \only<2>{H }0x4 & 0x1008-B, 0x1004-7, 0x4-7, 0x1000-3, 0x0-3 \\
    0x100C & \myemph{0x100C-F}, 0x1008-B, 0x1004-7, 0x4-7, 0x1000-3 \\
    \only<2>{M }0x0 & \myemph{0x0-3}, 0x100C-F, 0x1008-B, 0x1004-7, 0x4-7 \\
    0x1010 & \myemph{0x1010-3}, 0x0-3, 0x100C-F, 0x1008-B, 0x1004-7 \\
    \only<2>{M }0x4& \myemph{0x4-7}, 0x1010-3, 0x0-3, 0x100C-F, 0x1008-B \\
    0x1014 & \myemph{0x1014-7}, 0x4-7, 0x1010-3, 0x0-3, 0x100C-F \\
    \only<2>{H }0x0 & 0x1014-7, 0x4-7, 0x1010-3, 0x0-3, 0x100C-F \\
    0x1018 & \myemph{0x1018-B}, 0x1014-7, 0x4-7, 0x1010-3, 0x0-3 \\
    \only<2>{H }0x4 & 0x1018-B, 0x1014-7, 0x4-7, 0x1010-3, 0x0-3 \\
    0x101C & \myemph{0x101C-F},  0x1018-B, 0x1014-7, 0x4-7, 0x1010-3 \\
    \only<2>{M }0x0 & \myemph{0x0-3},  0x101C-F,  0x1018-B, 0x1014-7, 0x4-7 \\
    0x1020 & \myemph{0x1020-3}, 0x0-3, 0x101C-F,  0x1018-B, 0x1014-7 \\
    \only<2>{M }0x4 & \myemph{0x0-4}, 0x1020-3, 0x101C-F,  0x1018-B, 0x1014-7 \\
    \ldots & \ldots \\
\end{tabular}
\end{frame}

\begin{frame}{FIFO (2)}
\tt\small
\begin{tabular}{ll}
\tt\small
access & last in $\leftarrow\rightarrow$ first in \\
    \ldots & \ldots\\
    ~~0x100C & \myemph{0x100C-F}, 0x1008-B, 0x1004-7, 0x4-7, 0x1000-3 \\
    \only<2>{M }0x0 & \myemph{0x0-3}, 0x100C-F, 0x1008-B, 0x1004-7, 0x4-7 \\
    ~~0x1010 & \myemph{0x1010-3}, 0x0-3, 0x100C-F, 0x1008-B, 0x1004-7 \\
    \only<2>{M }0x4& \myemph{0x4-7}, 0x1010-3, 0x0-3, 0x100C-F, 0x1008-B \\
    ~~0x1014 & \myemph{0x1014-7}, 0x4-7, 0x1010-3, 0x0-3, 0x100C-F \\
    \only<2>{H }0x0 & 0x1014-7, 0x4-7, 0x1010-3, 0x0-3, 0x100C-F \\
    ~~0x1018 & \myemph{0x1018-B}, 0x1014-7, 0x4-7, 0x1010-3, 0x0-3 \\
    \only<2>{H }0x4 & 0x1018-B, 0x1014-7, 0x4-7, 0x1010-3, 0x0-3 \\
    ~~0x101C & \myemph{0x101C-F},  0x1018-B, 0x1014-7, 0x4-7, 0x1010-3 \\
    \only<2>{M }0x0 & \myemph{0x0-3},  0x101C-F,  0x1018-B, 0x1014-7, 0x4-7 \\
    ~~0x1020 & \myemph{0x1020-3}, 0x0-3, 0x101C-F,  0x1018-B, 0x1014-7 \\
    \only<2>{M }0x4 & \myemph{0x0-4}, 0x1020-3, 0x101C-F,  0x1018-B, 0x1014-7 \\
    \ldots & \ldots \\
\end{tabular}
\begin{itemize}
    \item 0x0/0x4: approx 50\% hit rate (after `warmup') \\
others: 0\% hit rate
\end{itemize}
\end{frame}
}

