
\section{review: single-cycle proccesor}

% FIXME: CPU design, example execution
\input{../pipeline/single-cycle-cpu}

\section{pipelining idea}

\subsection{laundry idea}
\input{../pipeline/laundryTools}
\input{../pipeline/laundryPipeline}

\subsection{applying to single-cycle processor}
\input{../pipeline/cpu-to-stages}

\subsection{exercise: throughput/latency}
\input{../pipeline/throughLat}

\subsubsection{slowest stage matters}
\input{../pipeline/deeperPipelineLib}
\input{../pipeline/deeperPipelineDiminish}
\input{../pipeline/deeperPipelineUneven}


\section{challenge: hazards}

\subsection{data hazards intro}

\subsubsection{example execution: wrong result, stalling resolution}
\input{../pipeline/addqHazard}

\subsection{control hazards}
\input{../pipeline/controlHazard} % FIXME: correct

\subsubsection{idea: branch prediction}
\input{../pipeline/predIntro}

\subsection{data hazard fix: forwarding}
\input{../pipeline/addqForward}

\subsubsection{exercise: what forwarding}
\input{../pipeline/forwardPathsEx}

\subsection{can't always forward: load-use}
\input{../pipeline/loadUseHazard}

\subsubsection{can forward: load-to-store}
\input{../pipeline/loadToStoreFwd}

\input{../pipeline/loadUseNoForward}
% FIXME: show undoing instruction???



\subsection{dependency v hazard}
\input{../pipeline/hazardVDep}

\input{../pipeline/hazardVDepEx}

\subsection{with different pipeline?}
\input{../pipeline/diffHazard}

\subsubsection{exercise}
\input{../pipeline/diffHazardEx}

